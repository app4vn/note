/* --- CSS cho Sidebar Mobile Ẩn/Hiện --- */

/* Nút Menu Hamburger */
.mobile-menu-button {
    display: none; /* Ẩn mặc định trên desktop */
    background: none;
    border: none;
    color: var(--text-header); /* Màu của icon */
    padding: 8px;
    margin-right: 10px; /* Khoảng cách với tiêu đề */
    cursor: pointer;
}

/* Lớp phủ (Overlay) */
#sidebar-overlay {
    display: none; /* Ẩn mặc định */
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* Màu đen mờ */
    z-index: 998; /* Nằm dưới sidebar nhưng trên content */
    opacity: 0;
    transition: opacity 0.3s ease;
}

/* Responsive Design cho Sidebar */
@media (max-width: 768px) {

    /* --- Điều chỉnh Header --- */
    .app-header {
        justify-content: flex-start; /* Căn các item về bên trái */
    }
    .mobile-menu-button {
        display: block; /* Hiển thị nút menu trên mobile */
    }
    .app-header h1 {
        margin-left: 10px; /* Khoảng cách giữa nút menu và tiêu đề */
    }
    .user-info {
        margin-left: auto; /* Đẩy user info về cuối */
    }


    /* --- Điều chỉnh Layout Chính --- */
    .main-content {
        flex-direction: row; /* Quay lại layout hàng ngang */
        position: relative; /* Để định vị sidebar tuyệt đối */
        overflow-x: hidden; /* Ngăn cuộn ngang khi sidebar trượt */
    }

    /* --- Style cho Sidebar trên Mobile --- */
    .sidebar {
        position: fixed; /* Hoặc absolute nếu muốn cuộn cùng trang */
        top: 0;
        left: 0;
        height: 100vh; /* Chiều cao toàn màn hình */
        width: 280px; /* Độ rộng của sidebar khi mở */
        max-width: 85%; /* Giới hạn độ rộng tối đa */
        transform: translateX(-100%); /* Ẩn sidebar ra ngoài màn hình bên trái */
        transition: transform 0.3s ease; /* Hiệu ứng trượt */
        z-index: 999; /* Nằm trên cùng */
        border-right: 1px solid var(--border-primary);
        border-bottom: none; /* Bỏ border bottom cũ */
        overflow-y: auto; /* Cho phép cuộn nếu nội dung dài */
        box-shadow: 2px 0 10px rgba(0,0,0,0.1); /* Thêm bóng đổ */
    }

    /* --- Style cho Content Area khi Sidebar Mở (Tùy chọn) --- */
    /* Bạn có thể để content giữ nguyên hoặc làm mờ/dịch chuyển nhẹ */
    /* Ví dụ:
    body.sidebar-open #content-area {
        filter: blur(2px);
        pointer-events: none; // Ngăn tương tác với content khi sidebar mở
    }
    */

    /* --- Style khi Sidebar Mở --- */
    /* Class 'sidebar-open' sẽ được thêm vào body bằng JS */
    body.sidebar-open .sidebar {
        transform: translateX(0); /* Hiện sidebar */
    }

    body.sidebar-open #sidebar-overlay {
        display: block; /* Hiện lớp phủ */
        opacity: 1;
    }

    /* --- Điều chỉnh Content Area --- */
    .content-area {
        width: 100%; /* Chiếm toàn bộ không gian còn lại */
        padding: 20px 15px; /* Giữ padding cũ */
        transition: margin-left 0.3s ease; /* Hiệu ứng khi sidebar mở/đóng (nếu cần) */
    }

    /* Bỏ các style cũ làm sidebar xếp chồng */
    /* @media (max-width: 768px) .main-content { flex-direction: column; } */ /* Bỏ */
    /* @media (max-width: 768px) .sidebar { width: 100%; border-bottom: ...; } */ /* Bỏ */

    /* Đảm bảo grid view vẫn là 1 cột trên mobile */
     #notes-list-container, #trash-list-container {
        grid-template-columns: repeat(auto-fill, minmax(100%, 1fr)); /* 1 cột */
        gap: 15px;
    }
}

